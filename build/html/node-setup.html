

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation &mdash; OriginTrail Documentation (v2.0) 0.9.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Identity Configuration" href="wallet-setup.html" />
    <link rel="prev" title="Network structure" href="network-structure.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> OriginTrail Documentation (v2.0)
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">GENERAL</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-layer.html">Data Layer</a></li>
<li class="toctree-l1"><a class="reference internal" href="network-structure.html">Network structure</a></li>
</ul>
<p class="caption"><span class="caption-text">NODE SETUP</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#read-me-first">Read Me First</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#system-requirements">System requirements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#installation-via-docker-prerequisites">Installation via Docker Prerequisites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#public-ip-or-open-communication">Public IP or open communication</a></li>
<li class="toctree-l3"><a class="reference internal" href="#docker-installed">Docker installed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#open-ports">Open Ports</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#installation-via-docker">Installation via Docker</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#run-a-node-on-the-testnet">Run a node on the TESTNET</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-a-node-on-the-mainnet">Run a node on the MAINNET</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-node-status">Check node status</a></li>
<li class="toctree-l3"><a class="reference internal" href="#starting-ot-node">Starting OT Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stopping-ot-node">Stopping OT Node</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#manual-installation-prerequisites">Manual Installation Prerequisites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#nodejs">NodeJS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#database-arangodb">Database - ArangoDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ubuntu-16-04">Ubuntu 16.04</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mac-os-x">Mac OS X</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#manual-node-installation">Manual Node Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#starting-the-node">Starting The Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="#important-notes">Important Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ot-node-update">OT Node update</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#docker">Docker</a></li>
<li class="toctree-l3"><a class="reference internal" href="#manual-installation">Manual installation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="wallet-setup.html">Identity Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="Configuration-setup.html">Node Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="import-data.html">Import data</a></li>
</ul>
<p class="caption"><span class="caption-text">API REFERENCE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction-to-api.html">Introduction to API</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction-to-api.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction-to-api.html#import">Import</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction-to-api.html#replication">Replication</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction-to-api.html#network-read">Network Read</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction-to-api.html#local-read">Local Read</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction-to-api.html#local-search">Local Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction-to-api.html#profile-token-management">Profile Token Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction-to-api.html#consensus-check">Consensus check</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction-to-api.html#node-information">Node information</a></li>
</ul>
<p class="caption"><span class="caption-text">IMPLEMENTATION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="implementation.html">Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-structure-guidelines.html">Data Structure Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="namespace.html">Namespace</a></li>
</ul>
<p class="caption"><span class="caption-text">CONTRIBUTION GUIDELINES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contribution-guidelines.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="contribution-guidelines.html#pull-requests">Pull Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="contribution-guidelines.html#contributor-code-of-conduct">Contributor Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="contribution-guidelines.html#questions-bugs-features">Questions, Bugs, Features</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">OriginTrail Documentation (v2.0)</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/node-setup.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation">
<span id="node-setup"></span><h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="read-me-first">
<h2>Read Me First<a class="headerlink" href="#read-me-first" title="Permalink to this headline">¶</a></h2>
<p>Please keep in mind that we will give our best to support you while setting up and
testing the nodes. Some features are subject to change and we are aware that some defects may show up on
different installations and usage scenarios.</p>
<p>If you need help installing OT Node or troubleshooting your
installation, you can either:</p>
<ul class="simple">
<li>engage in our Discord community and post your question,</li>
<li>contact us directly via email at <a class="reference external" href="mailto:support&#37;&#52;&#48;origin-trail&#46;com">support<span>&#64;</span>origin-trail<span>&#46;</span>com</a>.</li>
</ul>
<p>Nodes can be installed in two ways:</p>
<ul class="simple">
<li>via docker, which is reccommended way, also explained on our <a class="reference external" href="https://www.origintrail.io/node-setup">website</a></li>
<li>manually</li>
</ul>
<p><strong>NOTE</strong>: For best performance on running node we recommend usage of services like Digital Ocean.</p>
<p>In order to manually install and run OT node, you should do following steps:</p>
<ol class="arabic simple">
<li><strong>Step 1</strong> - Install all prerequisites.</li>
<li><strong>Step 2</strong> - <a class="reference internal" href="Configuration-setup.html#configuration-setup"><span class="std std-ref">Node Configuration</span></a></li>
<li><strong>Step 3</strong> - <a class="reference internal" href="import-data.html#import-data"><span class="std std-ref">Import data</span></a></li>
</ol>
</div>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<div class="section" id="system-requirements">
<h3>System requirements<a class="headerlink" href="#system-requirements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>minimum of 2Gb of RAM memory</li>
<li>at least 1 CPU</li>
<li>at least 10GB storage space</li>
<li>Ethereum wallet (You can see wallet setup instructions here <a class="reference internal" href="wallet-setup.html#wallet-setup"><span class="std std-ref">Identity Configuration</span></a>)</li>
<li>for testnet node: at least 1000 test TRAC tokens and at least 0.01 test Ethers</li>
<li>for mainnet node: at least 1000 TRAC tokens and at least 0.01 Ethers</li>
</ul>
</div>
</div>
<div class="section" id="installation-via-docker-prerequisites">
<h2>Installation via Docker Prerequisites<a class="headerlink" href="#installation-via-docker-prerequisites" title="Permalink to this headline">¶</a></h2>
<div class="section" id="public-ip-or-open-communication">
<h3>Public IP or open communication<a class="headerlink" href="#public-ip-or-open-communication" title="Permalink to this headline">¶</a></h3>
<p>A public IP address, domain name, or open network communication with the Internet is required. If behind NAT, please manually setup port forwarding to all the node’s ports.</p>
</div>
<div class="section" id="docker-installed">
<h3>Docker installed<a class="headerlink" href="#docker-installed" title="Permalink to this headline">¶</a></h3>
<p>The host machine needs to have Docker installed to be able to run the Docker commands specified below. You can find instructions on how to install Docker here:</p>
<p>For Mac <a class="reference external" href="https://docs.docker.com/docker-for-mac/install/">https://docs.docker.com/docker-for-mac/install/</a></p>
<p>For Windows <a class="reference external" href="https://docs.docker.com/docker-for-windows/install/">https://docs.docker.com/docker-for-windows/install/</a></p>
<p>For Ubuntu <a class="reference external" href="https://docs.docker.com/install/linux/docker-ce/ubuntu/">https://docs.docker.com/install/linux/docker-ce/ubuntu/</a></p>
<p>It is strongly suggested to use the latest official version.</p>
</div>
<div class="section" id="open-ports">
<h3>Open Ports<a class="headerlink" href="#open-ports" title="Permalink to this headline">¶</a></h3>
<p>By default Docker container will use 8900, 5278 and 3000 ports.
These can be mapped differently in Docker container initialization command.
Make sure they’re not blocked by firewall and open to the public.</p>
<p>Please note: port 8900 is used for REST API access which is not available until OT node is fully started.
This can be concluded after following log message is displayed in running node.</p>
<p>info - OT Node started</p>
</div>
</div>
<div class="section" id="installation-via-docker">
<h2>Installation via Docker<a class="headerlink" href="#installation-via-docker" title="Permalink to this headline">¶</a></h2>
<p>Before running a node make sure you configure it properly first. You can proceed to node <a class="reference internal" href="Configuration-setup.html#configuration-setup"><span class="std std-ref">Node Configuration</span></a> page.</p>
<div class="section" id="run-a-node-on-the-testnet">
<h3>Run a node on the TESTNET<a class="headerlink" href="#run-a-node-on-the-testnet" title="Permalink to this headline">¶</a></h3>
<p>Let’s just point Docker to the right image and configuration file with the following command:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">i</span> <span class="o">--</span><span class="n">name</span><span class="o">=</span><span class="n">otnode</span> <span class="o">-</span><span class="n">p</span> <span class="mi">8900</span><span class="p">:</span><span class="mi">8900</span> <span class="o">-</span><span class="n">p</span> <span class="mi">5278</span><span class="p">:</span><span class="mi">5278</span> <span class="o">-</span><span class="n">p</span> <span class="mi">3000</span><span class="p">:</span><span class="mi">3000</span> <span class="o">-</span><span class="n">v</span> <span class="o">~/.</span><span class="n">origintrail_noderc</span><span class="p">:</span><span class="o">/</span><span class="n">ot</span><span class="o">-</span><span class="n">node</span><span class="o">/.</span><span class="n">origintrail_noderc</span> <span class="n">origintrail</span><span class="o">/</span><span class="n">ot</span><span class="o">-</span><span class="n">node</span>
</pre></div>
</div>
<p>NOTE: In this example, our configuration file .origintrail_noderc is placed into the home folder of the current user (ie. /home/ubuntu).
You should point to the path where you created .origintrail_noderc on your file system.</p>
</div>
<div class="section" id="run-a-node-on-the-mainnet">
<h3>Run a node on the MAINNET<a class="headerlink" href="#run-a-node-on-the-mainnet" title="Permalink to this headline">¶</a></h3>
<p>Let’s just point Docker to the right image and configuration file with the following command:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">i</span> <span class="o">--</span><span class="n">name</span><span class="o">=</span><span class="n">otnode</span> <span class="o">-</span><span class="n">p</span> <span class="mi">8900</span><span class="p">:</span><span class="mi">8900</span> <span class="o">-</span><span class="n">p</span> <span class="mi">5278</span><span class="p">:</span><span class="mi">5278</span> <span class="o">-</span><span class="n">p</span> <span class="mi">3000</span><span class="p">:</span><span class="mi">3000</span> <span class="o">-</span><span class="n">v</span> <span class="o">~/.</span><span class="n">origintrail_noderc</span><span class="p">:</span><span class="o">/</span><span class="n">ot</span><span class="o">-</span><span class="n">node</span><span class="o">/.</span><span class="n">origintrail_noderc</span> <span class="n">quay</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">origintrail</span><span class="o">/</span><span class="n">otnode</span><span class="o">-</span><span class="n">mariner</span><span class="p">:</span><span class="n">release_mariner</span>
</pre></div>
</div>
<p>NOTE: In this example, our configuration file .origintrail_noderc is placed into the home folder of the current user (ie. /home/ubuntu).
You should point to the path where you created .origintrail_noderc on your file system.</p>
</div>
<div class="section" id="check-node-status">
<h3>Check node status<a class="headerlink" href="#check-node-status" title="Permalink to this headline">¶</a></h3>
<p>To check if your node is running in Terminal, run the following command:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">ps</span> <span class="o">-</span><span class="n">a</span>
</pre></div>
</div>
<p>This command will indicate if your node is running.</p>
</div>
<div class="section" id="starting-ot-node">
<h3>Starting OT Node<a class="headerlink" href="#starting-ot-node" title="Permalink to this headline">¶</a></h3>
<p>This command will start your node as a background process.</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">start</span> <span class="n">otnode</span>
</pre></div>
</div>
<p>This command will start your node in interactive mode and you will see the node’s process written in the terminal,
but this command will not run your node as a background process, which means your node will stop if you close your Terminal/Console.</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">start</span> <span class="o">-</span><span class="n">i</span> <span class="n">otnode</span>
</pre></div>
</div>
</div>
<div class="section" id="stopping-ot-node">
<h3>Stopping OT Node<a class="headerlink" href="#stopping-ot-node" title="Permalink to this headline">¶</a></h3>
<p>You can stop your node in the following two ways:</p>
<p>If you started your node with the docker start otnode command and
you wish to stop it from running, use the following command in your terminal:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">stop</span> <span class="n">otnode</span>
</pre></div>
</div>
<p>If you started your node by using the docker start -i otnode command,
you can stop it either by closing the Terminal or simply by pressing the ctrl + c.</p>
</div>
</div>
<div class="section" id="manual-installation-prerequisites">
<span id="manual-prerequisites-installation"></span><h2>Manual Installation Prerequisites<a class="headerlink" href="#manual-installation-prerequisites" title="Permalink to this headline">¶</a></h2>
<div class="section" id="nodejs">
<h3>NodeJS<a class="headerlink" href="#nodejs" title="Permalink to this headline">¶</a></h3>
<p>If you don’t have Node.js installed head to <a class="reference external" href="https://nodejs.org/en/">https://nodejs.org/en/</a> and
install version 9.x.x.</p>
<p><strong>Note:</strong> Make sure you have the preciselly above specified version of
Node.js installed. Some features will not work well on versions less or
greater then 9.x.x.</p>
<p>Before starting, make sure your server is up-to-date. You can do this
with the following commands:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">sL</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">deb</span><span class="o">.</span><span class="n">nodesource</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">setup_9</span><span class="o">.</span><span class="n">x</span> <span class="o">|</span> <span class="n">sudo</span> <span class="o">-</span><span class="n">E</span> <span class="n">bash</span> <span class="o">-</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">nodejs</span>
</pre></div>
</div>
</div>
<div class="section" id="database-arangodb">
<h3>Database - ArangoDB<a class="headerlink" href="#database-arangodb" title="Permalink to this headline">¶</a></h3>
<p><strong>ArangoDB</strong> is a native multi-model, open-source database with flexible
data models for documents, graphs, and key-values. We are using ArangoDB
to store data. In order to run OT node with ArangoDB you need to have a
local ArangoDB server installed and running.</p>
<p>Head to <a class="reference external" href="https://www.arangodb.com/download-major/">arangodb.com/download</a>, select your operating system and
download ArangoDB. You may also follow the instructions on how to
install with a package manager, if available. Remember credentials
(username and password) used to log in to Arango server, since later on
you will need to set them in .origintrail_noderc.</p>
</div>
<div class="section" id="ubuntu-16-04">
<span id="ubuntu-1604"></span><h3>Ubuntu 16.04<a class="headerlink" href="#ubuntu-16-04" title="Permalink to this headline">¶</a></h3>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">OL</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">download</span><span class="o">.</span><span class="n">arangodb</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">arangodb33</span><span class="o">/</span><span class="n">xUbuntu_16</span><span class="o">.</span><span class="mi">04</span><span class="o">/</span><span class="n">Release</span><span class="o">.</span><span class="n">key</span>
<span class="n">apt</span><span class="o">-</span><span class="n">key</span> <span class="n">add</span> <span class="o">-</span> <span class="o">&lt;</span> <span class="n">Release</span><span class="o">.</span><span class="n">key</span>
<span class="n">echo</span> <span class="s1">&#39;deb https://download.arangodb.com/arangodb33/xUbuntu_16.04/ /&#39;</span> <span class="o">|</span> <span class="n">tee</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">sources</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">arangodb</span><span class="o">.</span><span class="n">list</span>
<span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">apt</span><span class="o">-</span><span class="n">transport</span><span class="o">-</span><span class="n">https</span> <span class="o">-</span><span class="n">y</span>
<span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span> <span class="o">-</span><span class="n">y</span>
<span class="n">echo</span> <span class="n">arangodb3</span> <span class="n">arangodb3</span><span class="o">/</span><span class="n">backup</span> <span class="n">boolean</span> <span class="n">false</span> <span class="o">|</span> <span class="n">debconf</span><span class="o">-</span><span class="nb">set</span><span class="o">-</span><span class="n">selections</span>
<span class="n">echo</span> <span class="n">arangodb3</span> <span class="n">arangodb3</span><span class="o">/</span><span class="n">upgrade</span> <span class="n">boolean</span> <span class="n">true</span> <span class="o">|</span> <span class="n">debconf</span><span class="o">-</span><span class="nb">set</span><span class="o">-</span><span class="n">selections</span>
<span class="n">echo</span> <span class="n">arangodb3</span> <span class="n">arangodb3</span><span class="o">/</span><span class="n">storage_engine</span> <span class="n">select</span> <span class="n">mmfiles</span> <span class="o">|</span> <span class="n">debconf</span><span class="o">-</span><span class="nb">set</span><span class="o">-</span><span class="n">selections</span>
<span class="n">echo</span> <span class="n">arangodb3</span> <span class="n">arangodb3</span><span class="o">/</span><span class="n">password</span> <span class="n">password</span> <span class="n">root</span> <span class="o">|</span> <span class="n">debconf</span><span class="o">-</span><span class="nb">set</span><span class="o">-</span><span class="n">selections</span>
<span class="n">echo</span> <span class="n">arangodb3</span> <span class="n">arangodb3</span><span class="o">/</span><span class="n">password_again</span> <span class="n">password</span> <span class="n">root</span> <span class="o">|</span> <span class="n">debconf</span><span class="o">-</span><span class="nb">set</span><span class="o">-</span><span class="n">selections</span>
<span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">arangodb3</span><span class="o">=</span><span class="mf">3.3</span><span class="o">.</span><span class="mi">12</span> <span class="o">-</span><span class="n">y</span>
</pre></div>
</div>
<p>When asked, enter the password for root user.</p>
</div>
<div class="section" id="mac-os-x">
<h3>Mac OS X<a class="headerlink" href="#mac-os-x" title="Permalink to this headline">¶</a></h3>
<p>For Mac OS X, you can use <strong>homebrew</strong> to install ArangoDB. Run the
following:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">arangodb</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="manual-node-installation">
<span id="ubuntu-1604-1"></span><h2>Manual Node Installation<a class="headerlink" href="#manual-node-installation" title="Permalink to this headline">¶</a></h2>
<p>Clone the repository</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="o">-</span><span class="n">b</span> <span class="n">master</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">OriginTrail</span><span class="o">/</span><span class="n">ot</span><span class="o">-</span><span class="n">node</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>in the root folder of a project (ot-node), create .env file.
For manually running a testnet node, add follwoing variable in .env file:</p>
<p>NODE_ENV=production</p>
<p>or for manually running a mainnet node,</p>
<p>NODE_ENV=mariner</p>
<p>Before running a node make sure you configure it properly first. You can proceed to node <a class="reference internal" href="Configuration-setup.html#configuration-setup"><span class="std std-ref">Node Configuration</span></a> page.</p>
<p>and then run npm from root project folder</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">ot</span><span class="o">-</span><span class="n">node</span>
<span class="n">npm</span> <span class="n">install</span>
<span class="n">npm</span> <span class="n">run</span> <span class="n">setup</span>
</pre></div>
</div>
<div class="section" id="starting-the-node">
<h3>Starting The Node<a class="headerlink" href="#starting-the-node" title="Permalink to this headline">¶</a></h3>
<p>OT node consists of two servers <strong>RPC</strong> and <strong>Kademlia node</strong>. Run both
servers in a single command.</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">start</span>
</pre></div>
</div>
<p>You can see instructions regarding the data import on the following <a class="reference internal" href="import-data.html#import-data"><span class="std std-ref">Import data</span></a></p>
</div>
<div class="section" id="important-notes">
<h3>Important Notes<a class="headerlink" href="#important-notes" title="Permalink to this headline">¶</a></h3>
<p>First time you run your node run <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">setup</span></code> to apply initial configuration.</p>
<p>If you want to reset all settings you can use <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">setup:hard</span></code>. If you want to
clear all the cache and recreate database and not delete identity just run <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">setup</span></code>.</p>
<p>In order to make the initial import, your node must <strong>whitelist</strong> the
IP or host of the machine that is requesting the import in configuration i.e</p>
<div class="code json highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;network&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;remoteWhitelist&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;host.domain.com&quot;</span><span class="p">,</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>By default only localhost is whitelisted.</p>
<p>For more information see <a class="reference internal" href="Configuration-setup.html#configuration-setup"><span class="std std-ref">Node Configuration</span></a>.</p>
</div>
</div>
<div class="section" id="ot-node-update">
<h2>OT Node update<a class="headerlink" href="#ot-node-update" title="Permalink to this headline">¶</a></h2>
<p>OT Node has a built-in update functionality which will be triggered upon OT Node start.
Update will be triggered based on a release version.</p>
<div class="section" id="docker">
<h3>Docker<a class="headerlink" href="#docker" title="Permalink to this headline">¶</a></h3>
<p>In order to trigger the update, you must restart the OT Node by using the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">restart</span> <span class="n">otnode</span>
</pre></div>
</div>
<p>After a successfull update OT Node will be rebooted automatically.</p>
</div>
<div class="section" id="manual-installation">
<h3>Manual installation<a class="headerlink" href="#manual-installation" title="Permalink to this headline">¶</a></h3>
<p>Make sure that you are in the root directory of OT Node. The following commands will update the OT Node.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">pull</span>
</pre></div>
</div>
<p>Database migrations need to be triggered manually.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">node_modules</span><span class="o">/.</span><span class="n">bin</span><span class="o">/</span><span class="n">sequelize</span> <span class="o">--</span><span class="n">config</span><span class="o">=./</span><span class="n">config</span><span class="o">/</span><span class="n">sequelizeConfig</span><span class="o">.</span><span class="n">js</span> <span class="n">db</span><span class="p">:</span><span class="n">migrate</span>
</pre></div>
</div>
<p>Database seed needs to be triggered manually as well.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">node_modules</span><span class="o">/.</span><span class="n">bin</span><span class="o">/</span><span class="n">sequelize</span> <span class="o">--</span><span class="n">config</span><span class="o">=./</span><span class="n">config</span><span class="o">/</span><span class="n">sequelizeConfig</span><span class="o">.</span><span class="n">js</span> <span class="n">db</span><span class="p">:</span><span class="n">seed</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="wallet-setup.html" class="btn btn-neutral float-right" title="Identity Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="network-structure.html" class="btn btn-neutral" title="Network structure" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, OriginTrail.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.9.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>